<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div class="commentForm" th:fragment="commentForm">
    <form action="#" th:action="@{/writeComment(id=${article.id})}" th:object="${commentForm}" method="post">
        <div th:if = "${session.loginCheck}">
            <span>작성자: </span>
            <span th:text = "${session.name}"></span>
            <p>Description: <input type="text" th:field="*{description}" /></p>
            <p th:if="${#fields.hasErrors('description')}" th:errors="*{description}">Description Error</p>
            <p><input type="submit" value="작성" /></p>
        </div>
        <div th:unless = "${session.loginCheck}">
            <p>로그인이 필요합니다.</p>
        </div>
    </form>
    <p th:if="${errorMessage}" th:text="${errorMessage}"></p>
</div>